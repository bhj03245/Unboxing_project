WindowManager:
    Main:
    Menu:
    Setting:
    Video_list:
    VideoWidget:


<Main>
    name: "main"

    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            BoxLayout:
                orientation: 'horizontal'
                size: 800, 700
                Camera:
                    id: camera
                    resolution: 640, 480
                    play: True

            BoxLayout:
                orientation: 'horizontal'
                size: 800, 100
                size_hint: (None, None)
                Button:
                    text:"뒤로가기"
                    font_size:50
                    font_name: "malgun"
                    on_release:
                        app.root.current = "menu"
                Button:
                    text:"홈"
                    font_size:50
                    font_name: "malgun"
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"메뉴"
                    font_size:50
                    font_name: "malgun"
                    on_release:
                        app.root.current = "menu"

<Menu>
    name: "menu"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 100
                size_hint: (None,None)
                Label:
                    text:"졸음 방지 알림"
                    font_size:20
                    font_name: "malgun"
                Switch:
                    active: False
                    on_active: root.drowsiness_switch(self, self.active)
                Label:
                    text:"차선 이탈 방지"
                    font_size:20
                    font_name: "malgun"
                Switch:
                    active: False
                    on_active: root.drowsiness_switch(self, self.active)

            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text:"영상 목록"
                    font_size:50
                    font_name: "malgun"
                    on_release:
                        app.root.current = "video_list"
                Button:
                    text:"환경설정"
                    font_size:50
                    font_name: "malgun"
                    on_release:
                        app.root.current = "setting"

            BoxLayout:
                orientation: 'horizontal'
                size: 800, 100
                size_hint: (None, None)
                Button:
                    text:"뒤로가기"
                    font_size:50
                    font_name: "malgun"
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"홈"
                    font_size:50
                    font_name: "malgun"
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"메뉴"
                    font_size:50
                    font_name: "malgun"
                    on_release:
                        app.root.current = "menu"

<Setting>
    name: "setting"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                size: root.width, 100
                size_hint: (None,None)
                orientation: 'horizontal'

                Label:
                    text:"Manual Recording"
                    font_size:19
                Switch:
                    active: False
                    on_active: root.drowsiness_switch(self, self.active)
                Label:
                    text:"BlackBox Power"
                    font_size:20
                Switch:
                    active: False
                    on_active: root.drowsiness_switch(self, self.active)

            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text:"Reservation End"
                    font_size:50
                Button:
                    text:"Account Information"
                    font_size:50

            BoxLayout:
                orientation: 'horizontal'
                size: 800, 100
                size_hint: (None, None)
                Button:
                    text:"Back"
                    font_size:50
                    on_release:
                        app.root.current = "menu"
                Button:
                    text:"Home"
                    font_size:50
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"Menu"
                    font_size:50
                    on_release:
                        app.root.current = "menu"

<Video_list>
    name: "video_list"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text:"Normal video list"
                    font_size:50
                    release: "Norm"
                    on_release:
                        app.root.current = "video_widget"
                        root.video_list(self, self.release)

                Button:
                    text:"Manual video list"
                    font_size:50
                    release: "Manl"
                    on_release:
                        app.root.current = "video_widget"
                        root.video_list(self, self.release)

            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text:"Impact video list"
                    font_size:50
                    release: "Impt"
                    on_release:
                        app.root.current = "video_widget"
                        root.video_list(self, self.release)

                Button:
                    text:"Parking video list"
                    font_size:50
                    release: "Park"
                    on_release:
                        app.root.current = "video_widget"
                        root.video_list(self, self.release)

            BoxLayout:
                orientation: 'horizontal'
                size: 800, 100
                size_hint: (None, None)
                Button:
                    text:"Back"
                    font_size:50
                    on_release:
                        app.root.current = "menu"
                Button:
                    text:"Home"
                    font_size:50
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"Menu"
                    font_size:50
                    on_release:
                        app.root.current = "menu"

<VideoWidget>:
    name: "video_widget"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                size: root.width, 500
                size_hint: (None,None)
                orientation: 'horizontal'

                VideoPlayer:
                    source: "test.mp4"
                    state: "play"

            BoxLayout:
                orientation: 'horizontal'
                size: 800, 100
                size_hint: (None, None)
                Button:
                    text:"Back"
                    font_size:50
                    on_release:
                        app.root.current = "menu"
                Button:
                    text:"Home"
                    font_size:50
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"Menu"
                    font_size:50
                    on_release:
                        app.root.current = "menu"
