WindowManager:
    Main:
    Menu:
    Setting:
    Video_list:
    Normal:
    Manual:
    Impact:
    Parking:
    VideoWidget:
    
<Main>
    name: "main"
    
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'

            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 380 
                Image:
                    id: vid
                    size: root.width, 380
                    allow_stretch: True
                    keep_ratio: True
               
            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 100
                size_hint: (None, None)

                Button:
                    text: '뒤로가기'
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "menu"
                Button:
                    text:"메인 화면"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"메뉴"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "menu"

<Menu>
    name: "menu"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 100
                size_hint: (None,None)
                Label:
                    text:"졸음 방지 기능"
                    font_size:20
                    font_name:'malgun'
                Switch:
                    active: False
                    on_active: root.drowsiness_switch(self, self.active)
                Label:
                    text:"차선 이탈 방지 기능"
                    font_size:20
                    font_name:'malgun'

                Switch:
                    active: False
                    on_active: root.drowsiness_switch(self, self.active)

            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text:"영상 목록"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "video_list"
                Button:
                    text:"설정"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "setting"

            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 100
                size_hint: (None, None)
                Button:
                    text:"뒤로가기"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"메인"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"메뉴"
                    font_name:'malgun'
                    font_size:40
                    on_release:
                        app.root.current = "menu"

<Setting>
    name: "setting"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                size: root.width, 100
                size_hint: (None,None)
                orientation: 'horizontal'

                Label:
                    text:"수동 녹화"
                    font_size:20
                    font_name:'malgun'
                Switch:
                    active: False
                    on_active: root.drowsiness_switch(self, self.active)
                Label:
                    text:"블랙박스 전원"
                    font_size:20
                    font_name:'malgun'
                Switch:
                    active: False
                    on_active: root.drowsiness_switch(self, self.active)

            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text:"예약 종료"
                    font_size:40
                    font_name:'malgun'
                Button:
                    text:"계정 정보"
                    font_size:40
                    font_name:'malgun'

            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 100
                size_hint: (None, None)
                Button:
                    text:"뒤로가기"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "menu"
                Button:
                    text:"메인"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"메뉴"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "menu"

<Video_list>
    name: "video_list"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text:"상시 녹화 목록"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "normal"
                Button:
                    text:"수동 녹화 목록"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "manual"

            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text:"충격 녹화 목록"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "impact"
                Button:
                    text:"주차 녹화 목록"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "parking"

            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 100
                size_hint: (None, None)
                Button:
                    text:"뒤로가기"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "menu"
                Button:
                    text:"메인"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"메뉴"
                    font_size:40
                    font_name:'malgun'
                    on_release:
                        app.root.current = "menu"

<Normal>
    name: "normal"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 50
                size_hint: (None,None)
                padding: 10

                Label:
                    text:"영상 제목"
                    font_size:20
                    font_name:'malgun'
                    center_x: root.width / 2

            BoxLayout:
                orientation: 'vertical'
                size: root.width, 50
                size_hint: (None,None)
                padding: 10

                Button:
                    size: 100, 50
                    size_hint: (None,None)
                    text:"뒤로가기"
                    font_size: 20
                    font_name:'malgun'
                    pos_hint: {'right': 1}
                    on_release:
                        app.root.current = "video_list"

            RecycleView:
                data: [{'text': str(x)} for x in root.data_items_norm]
                viewclass: 'SelectableButton'
                SelectableRecycleBoxLayout:
                    id: controller 
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
                    default_size_hint: 1, None
                    default_size: 100, 75
                    spacing: 10
                    padding: 10

<Manual>
    name: "manual"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 50
                size_hint: (None,None)
                padding: 10

                Label:
                    text:"영상 제목"
                    font_size:20
                    font_name:'malgun'
                    center_x: root.width / 2

            BoxLayout:
                orientation: 'vertical'
                size: root.width, 50
                size_hint: (None,None)
                padding: 10

                Button:
                    size: 100, 50
                    size_hint: (None,None)
                    text: "뒤로가기"
                    font_size: 20
                    font_name:'malgun'
                    pos_hint: {'right': 1}
                    on_release:
                        app.root.current = "video_list"

            RecycleView:
                data: [{'text': str(x)} for x in root.data_items_manl]
                viewclass: 'SelectableButton'
                SelectableRecycleBoxLayout:
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
                    default_size_hint: 1, None
                    default_size: 100, 75
                    spacing: 10
                    padding: 10

<Impact>
    name: "impact"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 50
                size_hint: (None,None)
                padding: 10

                Label:
                    text:"영상 제목"
                    font_size:20
                    font_name:'malgun'
                    center_x: root.width / 2

            BoxLayout:
                orientation: 'vertical'
                size: root.width, 50
                size_hint: (None,None)
                padding: 10

                Button:
                    size: 100, 50
                    size_hint: (None,None)
                    text:"뒤로가기"
                    font_size: 20
                    font_name:'malgun'
                    pos_hint: {'right': 1}
                    on_release:
                        app.root.current = "video_list"

            RecycleView:
                data: [{'text': str(x)} for x in root.data_items_impt]
                viewclass: 'SelectableButton'
                SelectableRecycleBoxLayout:
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
                    default_size_hint: 1, None
                    default_size: 100, 75
                    spacing: 10
                    padding: 10

<Parking>
    name: "parking"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 50
                size_hint: (None,None)
                padding: 10

                Label:
                    text:"영상 제목"
                    font_size:20
                    font_name:'malgun'
                    center_x: root.width / 2

            BoxLayout:
                orientation: 'vertical'
                size: root.width, 50
                size_hint: (None,None)
                padding: 10

                Button:
                    size: 100, 50
                    size_hint: (None,None)
                    text:"뒤로가기"
                    font_size: 20
                    font_name:'malgun'
                    pos_hint: {'right': 1}
                    on_release:
                        app.root.current = "video_list"

            RecycleView:
                data: [{'text': str(x)} for x in root.data_items_park]
                viewclass: 'SelectableButton'
                SelectableRecycleBoxLayout:
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
                    default_size_hint: 1, None
                    default_size: 100, 75
                    spacing: 10
                    padding: 10

<VideoWidget>:
    name: "video_widget"
    FloatLayout:
        BoxLayout:
            size: root.width, root.height
            orientation: 'vertical'
            size_hint: (None, None)

            BoxLayout:
                size: root.width, 500
                size_hint: (None,None)
                orientation: 'horizontal'

                VideoPlayer:
                    source: root.r_source
                    state: "play"

            BoxLayout:
                orientation: 'horizontal'
                size: root.width, 100
                size_hint: (None, None)
                Button:
                    text:"뒤로가기"
                    font_size:50
                    font_name: "malgun"
                    on_release:
                        app.root.current = "menu"
                Button:
                    text:"메인"
                    font_size:50
                    font_name: "malgun"
                    on_release:
                        app.root.current = "main"
                Button:
                    text:"메뉴"
                    font_size:50
                    font_name: "malgun"
                    on_release:
                        app.root.current = "menu"
